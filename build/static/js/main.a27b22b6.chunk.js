(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,a){},141:function(e,t,a){},185:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},273:function(e,t,a){e.exports=a(445)},305:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=a(13),s=a(221),i=a(42),u=(a(222),a(223)),m=a(183),p=a(167),d=a(224),E=a.n(d),f=a(40),b=a(37),g=a(33),O=a(45),h=a.n(O),y="'production'".trim(),v="development"===y?"http://localhost:8000/api":"https://api.aconsult.xyz/api";h.a.defaults.baseURL=v,h.a.defaults.timeout=1e5,h.a.defaults.headers={};var j=function(e){return e},N={delete:function(e,t){return h.a.delete("".concat(e),{data:t}).then(j)},get:function(e,t){return h.a.get("".concat(e),t).then(j)},getPaginated:function(e,t){return h.a.get("".concat(e)).set("page_num",t).then(j)},put:function(e,t){return h.a.put("".concat(e),t).then(j)},post:function(e,t){return h.a.post("".concat(e),t).then(j)},postFile:function(e,t){var a=new FormData;return t.forEach((function(e){a.append(e.key,e.file)})),h.a.post("".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}}).then(j)}},w={login:function(e){return N.post("/auth/employee/login",e)},register:function(e){return N.post("/auth/register",e)},forgotPassword:function(e){return N.post("/auth/forgot-password",e)},resetPassword:function(e){return N.post("/auth/reset-password",e)},getHoldTypes:function(){return N.get("/hold/get")}},S={getSosOverView:function(){return N.get("/admin/sos/overview")},getFirOverView:function(){return N.get("/admin/fir/overview")},getEmpOverView:function(){return N.get("/admin/employee/overview")}},k={getEmployees:function(){return N.get("/admin/employee/get")},addEmployee:function(e){return N.post("/admin/employee/add",e)},updateEmployee:function(e,t){return N.post("/admin/employee/update/".concat(e),t)},deleteEmployee:function(e){return N.post("/admin/employee/delete/".concat(e))},getFilteredEmps:function(e){return N.get("/admin/employee/get".concat(e))}},x={getFirs:function(){return N.get("/admin/fir/get")},getFilteredFirs:function(e){return N.get("/admin/fir/get".concat(e))},getFirDetails:function(e){return N.get("/admin/fir/get?id=".concat(e))},updateFir:function(e){return N.post("/admin/fir/update",e)}},C={getSos:function(){return N.get("/admin/sos/get")},getsosDetails:function(e){return N.get("/admin/sos/get?id=".concat(e))},updatesos:function(e){return N.post("/admin/sos/update",e)}},T=function(e){h.a.defaults.headers.common={token:e}},I=k,D=w,R=S,F=C,L=x,A="Virtual Station",P="Something went wrong. Please try again !!!",_=(JSON.stringify({}),{OFFICER:"Officer",CONSTABLE:"Constable",HEAD_CONSTABLE:"Head Constable",ASI:"Assistant Sub-Inspector of Police",SI:"Sub-Inspector of Police",PI:"Inspector of Police",UNASSIGNED:"Not Assigned"}),U={text:"#E4E6EB",secondaryText:"#B0B3B8",darkText:"#5d615e",lightText:"#a5a6a8",background:"#18191A",lighBackground:"#242526",lighterBackground:"#3A3B3C",tabIconDefault:"#ccc",primaryColor:"#1a80ed",primaryColorLight:"#82b6ed",secondaryColor:"#ff8308"},B={ACTIVE:"Active",NOT_ASSIGNED:"Not Assigned",UNDER_INVESTIGATION:"Under Investigation",INVESTIGATION_COMPLETED:"Investigation Complete"};var G,M=function(e){return function(t){return function(a){if((c=a.payload)&&"function"===typeof c.then){e.dispatch({type:"ASYNC_START",subtype:a.type});var n=e.getState().viewChangeCounter,r=a.skipTracking;a.payload.then((function(t){var c=e.getState();(r||c.viewChangeCounter===n)&&(a.payload=t.data,e.dispatch({type:"ASYNC_END",promise:a.payload}),e.dispatch(a))}),(function(t){var c;console.log(t);var l="Check your Connection";t.response?(console.log(t.response.data),t.response.data.error&&(l=t.response.data.error),c=t.response.status):t.request?console.log(t.request):console.log("Error",t.message);var o=e.getState();if(r||o.viewChangeCounter===n){if(404===c){try{b.b.error(l),e.dispatch(Object(g.e)("/"))}catch(s){console.debug(s)}console.debug("ERRIIOIIO-----\x3e",t.response.status),a.payload=t.response.data,e.dispatch(a)}if(a.error=!0,t.response?a.payload=t.response.body||{}:a.payload={},a.skipTracking||e.dispatch({type:"ASYNC_END",promise:a.payload}),"LOGIN"===a.type||401!==c&&403!==c)try{b.b.error(l)}catch(s){console.debug(s)}else{try{b.b.error("Token Expired. Login Again!!!")}catch(s){console.log("error ",t.response)}e.dispatch({type:"LOGOUT",promise:a.payload})}}}))}else{var c;t(a)}}}},q=function(e){return function(t){return function(a){"REGISTER"===a.type||"LOGIN"===a.type?a.error||(window.localStorage.setItem("VP_TOKEN",a.payload.data.token),window.localStorage.setItem("USER_DETAILS",JSON.stringify(a.payload.data.data)),T(a.payload.data.token)):"SET_USER"===a.type?window.localStorage.setItem("USER_DETAILS",JSON.stringify(a.payload)):"LOGOUT"===a.type&&(window.localStorage.clear(),e.dispatch(Object(g.e)("/")),T(null)),t(a)}}},Y=a(9),V=a(63),W={employees:[]},K={firs:[]},z={sosRequests:[]},J={EmployeeReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EMPLOYEES":return Object(Y.a)(Object(Y.a)({},e),{},{employees:t.payload});default:return e}},FirReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FIRS":return Object(Y.a)(Object(Y.a)({},e),{},{firs:t.payload});default:return e}},SosReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SOS":return Object(Y.a)(Object(Y.a)({},e),{},{sosRequests:t.payload});default:return e}}},H={appName:"YAV Student dashboard",token:null,viewChangeCounter:0,user:{},drawerOpen:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOAD":return Object(Y.a)(Object(Y.a)({},e),{},{token:t.token||null,appLoaded:!0});case"REDIRECT":return Object(Y.a)(Object(Y.a)({},e),{},{redirectTo:t.payload});case"REGISTER":return Object(Y.a)(Object(Y.a)({},e),{},{redirectTo:t.error?null:"/",token:t.error?null:t.payload.token,currentUser:t.error?null:t.payload.data.name,role:t.payload.role,name:t.payload.name});case"SET_USER":return Object(Y.a)(Object(Y.a)({},e),{},{user:t.payload});case"TOGEL_DRAWER":return Object(Y.a)(Object(Y.a)({},e),{},{drawerOpen:t.payload});default:return e}},$={key:"root",storage:E.a,blacklist:["router"]},Q=Object(f.a)({basename:""}),Z=Object(p.a)($,(G=Q,function(e,t){if("LOGOUT"===t.type){var a=e;e={router:a.router,common:a.common}}return function(e){return Object(i.combineReducers)(Object(Y.a)(Object(Y.a)({},J),{},{common:X,router:Object(V.b)(e)}))}(G)(e,t)})),ee=Object(m.a)(Q),te=Object(i.createStore)(Z,Object(u.composeWithDevTools)(Object(i.applyMiddleware)(ee,M,q))),ae=Object(p.b)(te),ne=a(256),re=a(18),ce=a(476),le=(a(301),a(302),a(303),a(304),a(305),a(17)),oe=a.n(le),se=a(26),ie=a(4),ue=a(48),me=(a(184),a(185),a(53)),pe=a.n(me),de=a(27),Ee=a(8),fe=a(473),be=a(487),ge=a(157),Oe=a.n(ge),he=Object(fe.a)({list:{width:250},fullList:{width:"auto"}});function ye(e){var t=e.linkList,a=he(),n=r.a.useState({top:!1}),c=Object(ie.a)(n,2),l=c[0],o=c[1],s=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(Y.a)(Object(Y.a)({},l),{},{top:e}))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"menu-icon",onClick:s(!0)}," ",r.a.createElement(Oe.a,null)," "),r.a.createElement(be.a,{anchor:"top",open:l.top,onClose:s(!1)},function(e){return r.a.createElement("div",{className:Object(Ee.a)(a.list,Object(de.a)({},a.fullList,!0)),role:"presentation",onClick:s(!1),onKeyDown:s(!1)},r.a.createElement("ul",{className:"side-drawer-links"},e.map((function(e,t){return r.a.createElement("li",{button:!0,key:e,style:{textAlign:"center"}},r.a.createElement(ue.a,{to:e.to}," ",e.name," "))}))))}(t)))}var ve=[],je=function(){var e=Object(n.useState)(!1),t=Object(ie.a)(e,2),a=t[0],c=t[1],l=function(){c(window.innerWidth<=600)};return Object(n.useEffect)((function(){l(),window.addEventListener("resize",l)}),[]),r.a.createElement("nav",{className:"nav-bar hide-sm"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:pe.a,alt:"logo"}),r.a.createElement("h1",null,"Virtual Station")),r.a.createElement("div",{className:"end-links"},!a&&r.a.createElement("div",{className:"links"},ve.map((function(e){return r.a.createElement(ue.a,{to:"".concat(e.to)},e.name)}))),a&&r.a.createElement(ye,{linkList:ve})))},Ne=a(84),we=a.n(Ne),Se=a(85),ke=a(86),xe=a(87),Ce=a(93),Te=(a(308),function(e){Object(xe.a)(a,e);var t=Object(Ce.a)(a);function a(e){var n;return Object(Se.a)(this,a),(n=t.call(this,e)).state={label:"",value:"",autoComplete:!0,disabled:!1},n}return Object(ke.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.label,a=e.value,n=e.disabled,r=e.pattern,c=e.type,l=e.required,o=e.className,s=e.style,i=e.onKeyDown,u=e.autoComplete;this.setState({label:t,value:a,disabled:n,pattern:r,type:c,required:l,className:o,style:s,autoComplete:u}),this.onKeyDown=i}},{key:"componentWillReceiveProps",value:function(e){this.setState({label:e.label,value:e.value,disabled:e.disabled})}},{key:"onKeyDown",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.label,n=t.value,c=t.disabled,l=t.pattern,o=t.type,s=t.required,i=t.className,u=t.style,m=t.autoComplete;return r.a.createElement("div",{className:"input-label-div ".concat(i),style:u},r.a.createElement("input",{type:o||"text",name:a,className:"inp ",disabled:c,value:n,onChange:function(t){return e.props.onTextChange(t.target.value)},required:s,pattern:l||null,placeholder:" ",onKeyDown:this.onKeyDown,autoComplete:m?"on":"off"}),r.a.createElement("label",{className:"inp-label",name:a},a))}}]),a}(n.Component));function Ie(e){return r.a.createElement("div",{className:"loader-div"},r.a.createElement("div",{className:"loader"},r.a.createElement(ce.a,null),e.uploading&&r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"20px"}},"Uploading document...")),e.compressing&&r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"20px"}},"Compressing file...Please Wait")),e.email&&r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"20px"}},"Preparing file and mailing to ",e.email),r.a.createElement("p",{style:{fontSize:"16px"}},"It generally takes 5-6 secs to send."))))}a(141);var De=function(){var e=Object(n.useState)({}),t=Object(ie.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(ie.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(null),p=Object(ie.a)(m,2),d=p[0],E=p[1],f=Object(o.d)();Object(n.useEffect)((function(){window.localStorage.getItem("VP_TOKEN")&&te.dispatch(Object(g.d)("/dashboard"))}),[]);var b=function(){var e=Object(se.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),u(!0),E(null),e.prev=3,e.next=6,D.login(a);case 6:n=e.sent,u(!1),E(null),f({type:"LOGIN",payload:n.data}),f({type:"SET_USER",payload:n.data.data}),te.dispatch(Object(g.d)("/dashboard")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?E("".concat(e.t0.response.data.message)):E("Error occured. Please try again after some time"),u(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"root-bg "},r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"left"},r.a.createElement("img",{src:we.a,alt:""})),r.a.createElement("form",{onSubmit:b},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:pe.a,alt:""}),r.a.createElement("p",null,A)),r.a.createElement("div",{className:"w-100"},r.a.createElement(Te,{required:!0,autoComplete:!0,label:"Aadhar Card number",type:"number",className:"w-100",value:a.aadharNumber,onTextChange:function(e){return c(Object(Y.a)(Object(Y.a)({},a),{},{aadharNumber:e}))}}),r.a.createElement(Te,{required:!0,autoComplete:!0,label:"Password",type:"password",value:a.password,onTextChange:function(e){return c(Object(Y.a)(Object(Y.a)({},a),{},{password:e}))}}),r.a.createElement("p",null,r.a.createElement(ue.a,{to:"/forgot-password"},"Forgot password?")),d&&r.a.createElement("p",{className:"error"},d),r.a.createElement("button",{type:"submit"},"Login")))),i&&r.a.createElement(Ie,null)))},Re=(a(309),a(83)),Fe=a(479),Le=a(232),Ae=a.n(Le),Pe=a(234),_e=a.n(Pe),Ue=a(478),Be=a(477),Ge=a(230),Me=a.n(Ge),qe=a(235),Ye=a.n(qe),Ve=a(163),We=a.n(Ve),Ke=a(488),ze=a(480),Je=a(489),He=a(231),Xe=a.n(He),$e=a(233),Qe=a.n($e),Ze=a(97),et=Object(fe.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,backgroundColor:U.lighBackground,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(de.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",backgroundColor:U.lighBackground,width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(Y.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));var tt=function(){var e,t,a=et(),n=Object(Re.a)(),c=Object(o.e)((function(e){return e.common.drawerOpen})),l=Object(o.d)(),s=[{text:"Dashboard",icon:r.a.createElement(Me.a,{style:{fill:U.primaryColor}}),onClick:function(){return l(Object(Ze.push)("/dashboard"))}},{text:"SOS",icon:r.a.createElement(Xe.a,{style:{fill:U.primaryColor}}),onClick:function(){return l(Object(Ze.push)("/sos-requests"))}},{text:"Employees",icon:r.a.createElement(Ae.a,{style:{fill:U.primaryColor}}),onClick:function(){return l(Object(Ze.push)("/employees"))}},{text:"FIRs",icon:r.a.createElement(Qe.a,{style:{fill:U.primaryColor}}),onClick:function(){return l(Object(Ze.push)("/firs"))}},{text:"Logout",icon:r.a.createElement(_e.a,{style:{fill:U.primaryColor}}),onClick:function(){return l({type:"LOGOUT"})}}];return r.a.createElement("div",{className:a.root},r.a.createElement(be.a,{variant:"permanent",className:Object(Ee.a)(a.drawer,(e={},Object(de.a)(e,a.drawerOpen,c),Object(de.a)(e,a.drawerClose,!c),e)),classes:{paper:Object(Ee.a)((t={},Object(de.a)(t,a.drawerOpen,c),Object(de.a)(t,a.drawerClose,!c),t))}},r.a.createElement("img",{style:{width:"60%",margin:"10px auto"},src:pe.a}),r.a.createElement("h2",{className:"center",style:{opacity:c?1:0,transition:"0.3s"}},A),r.a.createElement(Be.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l({type:"TOGEL_DRAWER",payload:!0})},edge:"start",className:Object(Ee.a)(a.menuButton,Object(de.a)({},a.hide,c))},r.a.createElement(We.a,null)),c&&r.a.createElement("div",{className:a.toolbar},r.a.createElement(Be.a,{onClick:function(){l({type:"TOGEL_DRAWER",payload:!1})}},"rtl"===n.direction?r.a.createElement(We.a,null):r.a.createElement(Ye.a,null))),r.a.createElement(Ue.a,null),r.a.createElement(Fe.a,null,s.map((function(e){return r.a.createElement(Ke.a,{button:!0,key:e.text,onClick:e.onClick},r.a.createElement(ze.a,null,e.icon),r.a.createElement(Je.a,{primary:e.text}))}))),r.a.createElement(Ue.a,null)))},at=(a(118),a(47)),nt=a.n(at),rt=a(481),ct=a(250),lt=a(251),ot=a(117),st=a(255),it=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(ie.a)(l,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var t,a,n,r,l;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,R.getSosOverView();case 3:for(t=e.sent,a=t.data.data,n=[],r=function(e){var t=nt()().subtract(e,"days").startOf("day").format("DD-MM"),r=a.find((function(e){return nt()(e.date_trunc).format("DD-MM")===t}));n.push({name:t,SOS:r?Number(r.count):0})},l=15;l>=1;l-=1)r(l);c(n),i(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",{className:"card relative"},r.a.createElement("h3",{className:"tc"},"Number of SOS request of past 15 days"),r.a.createElement(rt.a,{width:700,height:300,data:a,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ct.a,{dataKey:"name"}),r.a.createElement(lt.a,{interval:"preserveStartEnd"}),r.a.createElement(ot.a,{contentStyle:{backgroundColor:U.background}}),r.a.createElement(st.a,{type:"monotone",dataKey:"SOS",stroke:"#82ca9d"})),s&&r.a.createElement(Ie,null))},ut=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),o=Object(ie.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(ie.a)(u,2),p=m[0],d=m[1],E=Object(re.g)();return Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var t,a,n,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,R.getFirOverView();case 3:t=e.sent,a=t.data.data,n={},r=0,a.forEach((function(e){n[e.status]=e.count})),Object.keys(B).forEach((function(e){n[e=B[e]]=n[e]?n[e]:0,r+=Number(n[e])})),i(r),c(n),d(!1);case 12:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",{className:" relative fir-overView"},r.a.createElement("h3",{className:"tc card "},"FIR Overview"),r.a.createElement("div",{className:"card content "},Object.keys(a).map((function(e){return r.a.createElement("div",{key:e.id,className:"pointer",onClick:function(){return E.push("/firs?status=".concat(e))}},r.a.createElement("b",null,e," "),r.a.createElement("p",null,a[e]," "))})),r.a.createElement("div",{className:""},r.a.createElement("b",null,"Total "),r.a.createElement("p",null,s," "))),p&&r.a.createElement(Ie,null))},mt=Object(fe.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,marginLeft:e.spacing(9)+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}})),pt=Object(fe.a)((function(e){return{root:{color:U.background}}})),dt=function(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(ie.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(ie.a)(u,2),p=m[0],d=m[1],E=Object(re.g)();return Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var t,a,n,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,R.getEmpOverView();case 4:t=e.sent,a=t.data.data,n={},r=0,a.forEach((function(e){n[e.role]=e.count})),Object.keys(_).forEach((function(e){n[e=_[e]]=n[e]?n[e]:0,r+=Number(n[e])})),i(r),c(n),d(!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0,e.t0.reponse),d(!1),b.b.error(P);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]),r.a.createElement("div",{className:" relative emp-overView"},r.a.createElement("h3",{className:"tc card "},"Employees Overview"),r.a.createElement("div",{className:"card content "},Object.keys(a).map((function(e){return r.a.createElement("div",{key:e.id,className:"pointer",onClick:function(){return E.push("/employees?role=".concat(e))}},r.a.createElement("b",null,e," "),r.a.createElement("p",null,a[e]," "))})),r.a.createElement("div",{className:""},r.a.createElement("b",null,"Total "),r.a.createElement("p",null,s," "))),p&&r.a.createElement(Ie,null))},Et=function(e){var t=mt(),a=(Object(o.e)((function(e){return e.common.user})),Object(o.e)((function(e){return e.common.drawerOpen}))),c=Object(n.useState)(!1),l=Object(ie.a)(c,2);l[0],l[1],Object(o.d)();return Object(n.useEffect)((function(){}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement("div",{className:"root-bg"},r.a.createElement("div",{className:"dashboard-div "+Object(Ee.a)(t.appBar,Object(de.a)({},t.appBarShift,a))},r.a.createElement("div",{className:"left"},r.a.createElement(it,null),r.a.createElement(ut,null)),r.a.createElement("div",{className:"right"},r.a.createElement(dt,null)))))},ft=(a(218),a(254)),bt=a(166),gt=a.n(bt),Ot=a(252),ht=a.n(Ot),yt=a(485),vt=function(e){var t=pt(),a=Object(n.useState)({}),c=Object(ie.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(ie.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(!1),E=Object(ie.a)(d,2),f=E[0],g=E[1],O=Object(n.useState)(!1),h=Object(ie.a)(O,2),y=h[0],v=h[1],j=Object(n.useState)(null),N=Object(ie.a)(j,2),w=N[0],S=N[1],k=Object(o.e)((function(e){return e.EmployeeReducers.employees})),x=Object(o.d)();Object(n.useEffect)((function(){e.employee&&e.employee!==l&&s(e.employee),e.isUpdate!==m&&p(e.isUpdate)}),[e]);var C=function(e){e.preventDefault(),S(null),function(e){var t=e.name,a=e.email,n=e.mobileNo,r=e.password,c=e.retypePassword,l=e.aadharNo,o=e.role;return t?a?o?n&&10==n.length?l&&12===l.length?r===c||(S("Password and Re-type password does not match"),!1):(S("12 digit Aadhar card number is required"),!1):(S("10 digit Mobile No is required"),!1):(S("Designation is required"),!1):(S("Email is required"),!1):(S("Name is required"),!1)}(l)&&(v(!0),m?I.updateEmployee(l.id,l).then((function(e){v(!1);var t=k.map((function(e){return e.id===l.id?l:e}));x({type:"GET_EMPLOYEES",payload:t}),D(),b.b.success("Employee updated succesfully"),console.log(e.data.data)})).catch((function(e){console.log(e,e.response),b.b.error(P),v(!1)})):I.addEmployee(l).then((function(e){v(!1);var t=[].concat(Object(ft.a)(k),[e.data.data]);x({type:"GET_EMPLOYEES",payload:t}),b.b.success("Employee added succesfully"),D()})).catch((function(e){console.log(e,e.response),b.b.error(P),v(!1)})),console.log(l))},T=function(){v(!0),I.deleteEmployee(l.id).then((function(){v(!1);var e=k.filter((function(e){return e.id!==l.id}));D(),x({type:"GET_EMPLOYEES",payload:e}),b.b.success("Employee deleted succesfully")})).catch((function(e){console.log(e,e.response),b.b.error(P),v(!1)}))},D=function(){g(!f)},R=function(){return r.a.createElement(yt.a,{open:f,className:t.dialog},r.a.createElement("div",{className:"create-employee relative"},r.a.createElement("h3",{className:"header"},m?"Update Employee":"Create Employee"),r.a.createElement("form",{onSubmit:C,className:"employee-form",id:"employee-form"},r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Name"),r.a.createElement("input",{required:!0,value:l.name,onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{name:e.target.value}))},type:"text"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Email"),r.a.createElement("input",{required:!0,value:l.email,onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{email:e.target.value}))},type:"email"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Aadhar Card No"),r.a.createElement("input",{required:!0,value:l.aadharNo,onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{aadharNo:e.target.value}))},type:"number"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Mobile No."),r.a.createElement("input",{required:!0,value:l.mobileNo,onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{mobileNo:e.target.value}))},type:"number"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Designation"),r.a.createElement("select",{onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{role:e.target.value}))}},r.a.createElement("option",{value:null},"Select a designation"),Object.keys(_).map((function(e){return r.a.createElement("option",{value:_[e]},_[e])})))),!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Password"),r.a.createElement("input",{required:!0,value:l.password,onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{password:e.target.value}))},type:"password"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("p",null,"Re-typePassword"),r.a.createElement("input",{required:!0,value:l.retypePassword,onChange:function(e){return s(Object(Y.a)(Object(Y.a)({},l),{},{retypePassword:e.target.value}))},type:"text"}))),w&&r.a.createElement("p",{className:"error"},w)),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"submit",form:"employee-form",className:"primary-btn pa2 f6"},m?"Update Employee":"Create Employee"),m&&r.a.createElement("button",{type:"button",onClick:T,className:"red-btn ml2 pa2 f6"},"Delete"),r.a.createElement("button",{type:"button",onClick:D,className:"red-btn pa2 ml2 f6"},"Cancel")),y&&r.a.createElement(Ie,null)))};return m?r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"employee"},r.a.createElement("td",null,l.onDuty?r.a.createElement(gt.a,{style:{fill:"green",width:"10px",height:"10px"}}):r.a.createElement(gt.a,{style:{fill:"red",width:"10px",height:"10px"}})," ",l.name),r.a.createElement("td",null,l.email),r.a.createElement("td",null,l.mobileNo),r.a.createElement("td",null,l.role),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:D},r.a.createElement(ht.a,{style:{width:"15px",height:"15px",fill:U.primaryColor}})))),R()):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"primary-btn pa2 f6",onClick:D},"Add an Employee"),R())},jt=function(e){var t=e.location.search,a=mt(),c=Object(n.useState)(""),l=Object(ie.a)(c,2),s=l[0],i=l[1],u=Object(re.g)(),m=Object(o.e)((function(e){return e.EmployeeReducers.employees})),p=Object(o.e)((function(e){return e.common.drawerOpen})),d=Object(n.useState)(!1),E=Object(ie.a)(d,2),f=E[0],b=E[1],g=Object(o.d)();Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b(!0),!t){e.next=10;break}return i(t.substring(0).split("=")[1]),e.next=6,I.getFilteredEmps(t);case 6:a=e.sent,g({type:"GET_EMPLOYEES",payload:a.data.data}),e.next=15;break;case 10:return i(""),e.next=13,I.getEmployees();case 13:n=e.sent,g({type:"GET_EMPLOYEES",payload:n.data.data});case 15:b(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),b(!1),console.log(e.t0,e.t0.response);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement("div",{className:"root-bg"},r.a.createElement("div",{className:"employees-div ".concat(Object(Ee.a)(a.appBar,Object(de.a)({},a.appBarShift,p)))},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,"All employees"),r.a.createElement(vt,{isUpdate:!1})),r.a.createElement("div",{className:"flex items-center justify-end"},Object.keys(_).map((function(e,t){return r.a.createElement("button",{type:"button",className:"ba br4 ml2 pa2  f7",onClick:function(){return function(e){if(e)if(e===s)u.push("/employees");else{var t="?role=".concat(e);u.push("/employees".concat(t))}}(_[e])},style:{backgroundColor:_[e]===s?U.primaryColor:""}},_[e])}))),r.a.createElement("table",{className:"employees-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Mobile No"),r.a.createElement("th",null,"Designation"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,m.length>0?m.map((function(e){return r.a.createElement(vt,{isUpdate:!0,employee:e,key:e.id})})):r.a.createElement("p",null,"No Employee present"))),f&&r.a.createElement(Ie,null))))},Nt=Object(o.c)((function(e){return{}}),(function(e){return{login:function(t){return e({type:"LOGIN",payload:t})},setUser:function(t){return e({type:"SET_USER",payload:t})}}}))((function(){var e=Object(n.useState)({}),t=Object(ie.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(ie.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(null),m=Object(ie.a)(u,2),p=m[0],d=m[1],E=Object(n.useState)(!1),f=Object(ie.a)(E,2),b=f[0],O=f[1],h=Object(n.useState)(null),y=Object(ie.a)(h,2),v=y[0],j=y[1];Object(n.useEffect)((function(){window.localStorage.getItem("VP_TOKEN")&&te.dispatch(Object(g.d)("/dashboard"))}),[]);var N=function(){var e=Object(se.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),i(!0),d(null),j(null),e.prev=4,e.next=7,D.forgotPassword(a);case 7:e.sent,i(!1),d(null),O(!0),j("An email has been sent to your email."),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?d(e.t0.response.data.message.error):d("Error occured. Please try again after some time"),i(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null),r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"left"},r.a.createElement("img",{src:we.a,alt:""})),r.a.createElement("form",{onSubmit:N},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:pe.a,alt:""}),r.a.createElement("p",null,A)),r.a.createElement("div",{className:"w-100"},r.a.createElement("p",null,"Enter the email with which you have registered."),r.a.createElement(Te,{required:!0,label:"Email",type:"email",className:"w-100",value:a.email,onTextChange:function(e){return c(Object(Y.a)(Object(Y.a)({},a),{},{email:e}))},autoComplete:!0}),v&&r.a.createElement("p",{className:"green b ",style:{color:"green"}},v),p&&r.a.createElement("p",{className:"error"},p),r.a.createElement("button",{type:"submit"},b?"Resend Link":"Send Link"),r.a.createElement("p",null,"Already a user?",r.a.createElement(ue.a,{to:"/"},"Login"))))),s&&r.a.createElement(Ie,null)))})),wt=Object(o.c)((function(){return{}}),(function(e){return{login:function(t){return e({type:"LOGIN",payload:t})},setUser:function(t){return e({type:"SET_USER",payload:t})}}}))((function(e){var t=Object(n.useState)({}),a=Object(ie.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(ie.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(null),p=Object(ie.a)(m,2),d=p[0],E=p[1],f=Object(n.useState)(null),b=Object(ie.a)(f,2),O=b[0],h=b[1],y=Object(n.useState)(""),v=Object(ie.a)(y,2),j=v[0],N=v[1];Object(n.useEffect)((function(){window.localStorage.getItem("VP_TOKEN")&&te.dispatch(Object(g.d)("/dashboard")),e.match.params.token&&h(e.match.params.token)}),[]);var w=function(){var e=Object(se.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),c===j){e.next=4;break}return E("Password does not match!!!"),e.abrupt("return");case 4:return u(!0),E(null),e.prev=6,e.next=9,D.resetPassword({token:O,password:c});case 9:a=e.sent,u(!1),E(null),console.log(a),te.dispatch(Object(g.d)("/")),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?E(e.t0.response.data.message):E("Error occured. Please try again after some time"),u(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null),r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"left"},r.a.createElement("img",{src:we.a,alt:""})),r.a.createElement("form",{onSubmit:w},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:pe.a,alt:""}),r.a.createElement("p",null,A)),r.a.createElement("div",{className:"w-100"},r.a.createElement("p",null,"Enter new password"),r.a.createElement(Te,{required:!0,label:"Password",type:"password",value:c||"",onTextChange:function(e){return l(e)}}),r.a.createElement(Te,{required:!0,label:"Confirm Password",type:"password",value:j,onTextChange:function(e){return N(e)},autoComplete:!0}),d&&r.a.createElement("p",{className:"error"},d),r.a.createElement("button",{type:"submit"},"Change Password"),r.a.createElement("p",null,"Already a user?",r.a.createElement(ue.a,{to:"/"},"Login"))))),i&&r.a.createElement(Ie,null)))})),St=(a(219),function(e){var t=e.fir,a=Object(re.g)();return r.a.createElement("div",{className:"fir pointer",onClick:function(){return a.push("/firDetails/".concat(t.id))}},r.a.createElement("div",{className:"header"},r.a.createElement("p",null," Status: ",t.status," "),r.a.createElement("p",null," Date: ",nt()(t.createdAt).format("DD-MMM-YYYY")," ")),r.a.createElement("h4",{className:"mt2 block"},"Complaint: ( ",t.crimeNature," )"),r.a.createElement("p",null,"  ",t.complaint,"  "),r.a.createElement("div",{className:" flex items-center"},r.a.createElement("h4",null,"Filed By: "),r.a.createElement("p",{className:"ml2"}," ",t.User.name),r.a.createElement("p",{className:"ml2"},t.User.mobileNo)),r.a.createElement("div",{className:" flex items-center"},r.a.createElement("h4",null,"Investigating Officer: "),t.Employee?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"ml2"}," ",t.Employee.name),r.a.createElement("p",{className:"ml2"},t.Employee.mobileNo)):r.a.createElement("p",{className:"ml2"},"No officer is assigned")),r.a.createElement("p",{className:"mt0 mb0  primary-btn w-10 pa2",style:{marginLeft:"auto"}},"See details"))}),kt=function(e){var t=e.location.search,a=mt(),c=Object(o.e)((function(e){return e.FirReducers.firs})),l=Object(n.useState)(""),s=Object(ie.a)(l,2),i=s[0],u=s[1],m=Object(o.e)((function(e){return e.common.drawerOpen})),p=Object(n.useState)(!1),d=Object(ie.a)(p,2),E=d[0],f=d[1],b=Object(o.d)(),g=Object(re.g)();Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(!0),!t){e.next=10;break}return u(t.substring(0).split("=")[1]),e.next=6,L.getFilteredFirs(t);case 6:a=e.sent,b({type:"GET_FIRS",payload:a.data.data}),e.next=15;break;case 10:return e.next=12,L.getFirs();case 12:n=e.sent,b({type:"GET_FIRS",payload:n.data.data}),u("");case 15:f(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),f(!1),console.log(e.t0,e.t0.response);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement("div",{className:"root-bg"},r.a.createElement("div",{className:"fir-page-div ".concat(Object(Ee.a)(a.appBar,Object(de.a)({},a.appBarShift,m)))},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,"FIRs"),r.a.createElement("div",{className:"flex items-center"},Object.keys(B).map((function(e,t){return r.a.createElement("button",{type:"button",className:"ba br4 ml2 pa2  f7",onClick:function(){return function(e){if(e)if(e===i)g.push("/firs");else{var t="?status=".concat(e);g.push("/firs".concat(t))}}(B[e])},style:{backgroundColor:B[e]===i?U.primaryColor:""}},B[e])})))),r.a.createElement("div",{className:"firs-div"},c.length?c.map((function(e){return r.a.createElement(St,{fir:e,key:e.id})})):r.a.createElement("p",null,"No FIR present")),E&&r.a.createElement(Ie,null))))},xt=function(e){var t=e.match.params.id,a=mt(),c=Object(o.e)((function(e){return e.FirReducers.firs})),l=Object(o.e)((function(e){return e.EmployeeReducers.employees})),s=Object(n.useState)({User:{},Employee:{}}),i=Object(ie.a)(s,2),u=i[0],m=i[1],p=Object(o.e)((function(e){return e.common.drawerOpen})),d=Object(n.useState)(!1),E=Object(ie.a)(d,2),f=E[0],b=E[1],g=Object(n.useState)(!1),O=Object(ie.a)(g,2),h=(O[0],O[1]),y=function(){h(window.innerWidth<=600)},v=Object(o.d)();Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var a,n,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y(),window.addEventListener("resize",y),console.log(t),a=c.find((function(e){return e.id===t}))){e.next=12;break}return b(!0),e.next=9,L.getFirDetails(t);case 9:n=e.sent,b(!1),n.data.data&&n.data.data.length>0&&(a=n.data.data[0]);case 12:if(m(a),0!==l.length){e.next=20;break}return b(!0),e.next=17,I.getEmployees();case 17:r=e.sent,v({type:"GET_EMPLOYEES",payload:r.data.data}),b(!1);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),b(!1),console.log(e.t0,e.t0.response);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))()}),[t]);var j=function(){var e=Object(se.a)(oe.a.mark((function e(t){var a,n,r,o;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value){e.next=3;break}return e.abrupt("return");case 3:return n={id:u.id,EmployeeId:a,status:B.ACTIVE},b(!0),e.next=7,L.updateFir(n);case 7:e.sent,b(!1),r=Object(Y.a)(Object(Y.a)({},u),{},{EmployeeId:a,Employee:l.find((function(e){return e.id===a})),status:B.ACTIVE}),m(r),o=c.map((function(e){return e.id===r.id?r:e})),v({type:"GET_FIRS",payload:o});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement("div",{className:"root-bg"},r.a.createElement("div",{className:"fir-page-details-div ".concat(Object(Ee.a)(a.appBar,Object(de.a)({},a.appBarShift,p)))},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,"FIR Details")),r.a.createElement("div",{className:"card "},r.a.createElement("h4",null,"Filed By:"),r.a.createElement("p",null,u.User.name," "),r.a.createElement("p",null,u.User.mobileNo," "),r.a.createElement("p",null,"Aadhar card No: ",u.User.aadharNumber," "),r.a.createElement("p",null,"Address: ",u.User.address," ")),r.a.createElement("div",{className:"card"},r.a.createElement("h4",null,"Offence Details:"),r.a.createElement("p",null,"Nature: ",u.crimeNature),r.a.createElement("p",null,"Date of offence: ",nt()(u.data).format("DD-MMM-YYYY")),r.a.createElement("p",null,"Place of offence: ",u.placeOfOccurence),r.a.createElement("b",null,"Accused Desciption: "),r.a.createElement("p",null,u.accusedDesciption," "),r.a.createElement("b",null,"Complaint: "),r.a.createElement("p",null,u.complaint," "),r.a.createElement("b",null,"Property Damage: "),r.a.createElement("p",null,u.propertyDamage||"Not added"," "),r.a.createElement("b",null,"Witness Details: "),r.a.createElement("p",null,u.witnessDetails||"Not added"," "))),r.a.createElement("div",{className:"actions card"},r.a.createElement("p",{className:"bb pb2"},"Status: ",u.status),r.a.createElement("div",{className:"emp-div"},r.a.createElement("h4",null,"Investing Officer "),u.Employee?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,u.Employee.name),r.a.createElement("p",{className:"bb w-100 pb2"},u.Employee.mobileNo),r.a.createElement("b",null,"Officer's Remark"),r.a.createElement("p",null,u.remark||"No remark is added"," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"No officer assigned"),r.a.createElement("b",{className:"mb2"},"Select Officer for investigation"),r.a.createElement("select",{className:"mt2",onChange:j},r.a.createElement("option",{value:""}," Select officer "),l.map((function(e){return r.a.createElement("option",{value:e.id}," ",e.name,"  (",e.role,")")})))))),f&&r.a.createElement(Ie,null))))};a(442);function Ct(e){var t=Math.abs(e),a=Math.floor(t),n=60*(t-a),r=Math.floor(n);return a+"\xb0"+r+"'"+Math.floor(60*(n-r))+'"'}var Tt=function(e){var t,a,n=e.sos,c=Object(Y.a)(Object(Y.a)({},n),{},{startLocation:JSON.parse(n.startLocation)});return r.a.createElement("div",{className:"sos"},r.a.createElement("div",{className:"header"},r.a.createElement("p",null," Status: ",c.status," "),r.a.createElement("p",null," Date: ",nt()(c.createdAt).format("DD-MMM-YYYY")," ")),r.a.createElement("div",{className:"flex w-100"},r.a.createElement("div",{className:" w-50"},r.a.createElement("h4",null,"Raised By: "),c.User&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:""}," ",c.User.name),r.a.createElement("p",{className:""},c.User.mobileNo),r.a.createElement("p",{className:""},"Location:",r.a.createElement("a",{target:"_blank",className:"ml2 white",href:"https://www.google.co.in/maps/place/".concat((t=c.startLocation.latitude,a=c.startLocation.longitude,Ct(t)+""+(t>=0?"N":"S")+"+"+Ct(a)+(a>=0?"E":"W")),"/")},"See on Map")))),r.a.createElement("div",{className:"w-50"},r.a.createElement("h4",null,"Helping Officer: "),c.Employee?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:""}," ",c.Employee.name),r.a.createElement("p",{className:""},c.Employee.mobileNo),r.a.createElement("p",null," Officer's Response: ",c.employeeResponse," ")):r.a.createElement("p",{className:""},"No officer is assigned"))))},It=function(e){var t=mt(),a=Object(o.e)((function(e){return e.SosReducers.sosRequests})),c=Object(o.e)((function(e){return e.common.drawerOpen})),l=Object(n.useState)(!1),s=Object(ie.a)(l,2),i=s[0],u=s[1],m=Object(o.d)();return Object(n.useEffect)((function(){Object(se.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,F.getSos();case 4:t=e.sent,m({type:"GET_SOS",payload:t.data.data}),u(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(!1),console.log(e.t0,e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement("div",{className:"root-bg"},r.a.createElement("div",{className:"sos-page-div ".concat(Object(Ee.a)(t.appBar,Object(de.a)({},t.appBarShift,c)))},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,"All SOS Requests")),r.a.createElement("div",{className:"sos-div"},a&&a.map((function(e){return r.a.createElement(Tt,{sos:e,key:e.id})}))),i&&r.a.createElement(Ie,null))))},Dt=function(e){var t=e.component,a=Object(ne.a)(e,["component"]);return window.localStorage.getItem("VP_TOKEN")?r.a.createElement(re.b,Object.assign({},a,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(re.b,Object.assign({},a,{render:function(){return r.a.createElement(re.a,{to:"/login"})}}))},Rt=function(e){var t,a=e.history;return t=function(){var e=window.localStorage.getItem("VP_TOKEN");e&&T(e)},Object(n.useMemo)(t,[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",{style:{width:"40px",height:"40px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}},r.a.createElement("h4",null,"Loading..."),r.a.createElement(ce.a,null))},r.a.createElement(V.a,{history:a},r.a.createElement(re.d,null,r.a.createElement(re.b,{path:"/",component:De,exact:!0}),r.a.createElement(re.b,{path:"/login",component:De,exact:!0}),r.a.createElement(re.b,{path:"/forgot-password",component:Nt,exact:!0}),r.a.createElement(re.b,{path:"/reset-password/:token",component:wt,exact:!0}),r.a.createElement(Dt,{path:"/dashboard",component:Et,exact:!0}),r.a.createElement(Dt,{path:"/employees",component:jt,exact:!0}),r.a.createElement(Dt,{path:"/firs",component:kt,exact:!0}),r.a.createElement(Dt,{path:"/sos-requests",component:It,exact:!0}),r.a.createElement(Dt,{path:"/firDetails/:id",component:xt,exact:!0})))),r.a.createElement(b.a,{style:{color:"white"}}))};a(443),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(444);var Ft=function(e){Object(xe.a)(a,e);var t=Object(Ce.a)(a);function a(e){var n;return Object(Se.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(ke.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"error-page"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Something Went Wrong"),r.a.createElement("p",null,"It's not you it's us. Something broke on our  our side "),r.a.createElement("p",null,"Please",r.a.createElement("a",{href:"".concat(window.location.pathname)}," Click Here ")," ","to continue."),r.a.createElement("br",null)))}}]),a}(r.a.Component),Lt=Object(o.c)((function(e){return{}}))(Ft),At=function(e){Object(xe.a)(a,e);var t=Object(Ce.a)(a);function a(e){var n;return Object(Se.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(ke.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(Lt,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e,t){return{hasError:!0}}}]),a}(r.a.Component),Pt=Object(o.c)((function(e){return{}}))(At);l.a.render(r.a.createElement(o.a,{store:te},r.a.createElement(s.a,{loading:null,persistor:ae},r.a.createElement(Pt,null,r.a.createElement(Rt,{history:Q})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a.p+"static/media/logo_short.06bcaecc.png"},84:function(e,t,a){e.exports=a.p+"static/media/login.dc059289.svg"}},[[273,1,2]]]);
//# sourceMappingURL=main.a27b22b6.chunk.js.map